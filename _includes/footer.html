<footer class="site-footer">
  <div class="container footer-top">
    <!-- Left: brand + address + contacts -->
    <div class="footer-left">
      <a class="footer-brand" href="{{ '/' | relative_url }}">
        <img class="footer-logo" src="{{ '/assets/img/logo.png' | relative_url }}" alt="{{ site.title }}">
      </a>

      <div class="footer-address">
        <div>Georgsplatz 1</div>
        <div>20099 Hamburg</div>
      </div>

      <div class="footer-contact">
        <a class="footer-contact-item" href="mailto:dennis.kuerschner@kuventa.de">
          <span class="icon" aria-hidden="true">
            <!-- mail icon -->
            <svg xmlns="http://www.w3.org/2000/svg" focusable="false" viewBox="0 0 24 24" color="var(--token-521a2a7f-d8f7-4c71-9624-1a4106d5acab, rgb(12, 11, 32))" style="user-select: none; width: 100%; height: 100%; display: inline-block; fill: var(--token-521a2a7f-d8f7-4c71-9624-1a4106d5acab, rgb(12, 11, 32)); flex-shrink: 0;"><path d="M22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6zm-2 0l-8 4.99L4 6h16zm0 12H4V8l8 5 8-5v10z"></path></svg>
          </span>
          <span>dennis.kuerschner@kuventa.de</span>
        </a>

        <a class="footer-contact-item" href="tel:+4915175032656">
          <span class="icon" aria-hidden="true">
            <!-- phone icon -->
            <svg xmlns="http://www.w3.org/2000/svg" focusable="false" viewBox="0 0 24 24" color="var(--token-521a2a7f-d8f7-4c71-9624-1a4106d5acab, rgb(12, 11, 32))" style="user-select: none; width: 100%; height: 100%; display: inline-block; fill: var(--token-521a2a7f-d8f7-4c71-9624-1a4106d5acab, rgb(12, 11, 32)); flex-shrink: 0;"><path d="M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z"></path></svg>
          </span>
          <span>+49 151 75 03 26 56</span>
        </a>
      </div>
    </div>

    <!-- Right: nav links -->
    <nav class="footer-nav" aria-label="Footer">
      <a href="{{ '/' | relative_url }}" class="footer-link {% if page.url == '/' %}is-active{% endif %}">Home</a>
      <a href="{{ '/ueber-mich/' | relative_url }}" class="footer-link {% if page.url contains 'ueber-mich' %}is-active{% endif %}">Über mich</a>
      <a href="{{ '/cv/' | relative_url }}" class="footer-link {% if page.url contains '/cv' %}is-active{% endif %}">CV</a>
      <a href="{{ '/kontakt/' | relative_url }}" class="footer-link {% if page.url contains 'kontakt' %}is-active{% endif %}">Kontakt</a>
    </nav>
  </div>

  <div class="container footer-bottom">
    <div class="footer-legal">
      <a href="{{ '/impressum/' | relative_url }}">Impressum</a>
      <a href="{{ '/datenschutz/' | relative_url }}">Datenschutzerklärung</a>
    </div>

    <div class="footer-copy">
      <span class="copy-icon">©️</span>
      <span>{{ site.time | date: "%Y" }} {{ site.title }} All rights reserved</span>
    </div>
  </div>
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const items = document.querySelectorAll(".js-anim");
  if (!items.length) return;

  // Respect reduced motion
  const reduce = window.matchMedia("(prefers-reduced-motion: reduce)").matches;
  if (reduce) {
    items.forEach(el => el.classList.add("is-visible"));
    return;
  }

  const seen = new WeakMap(); // tracks if element is currently "in view" (entered)

  function play(el) {
    const anim = el.dataset.anim || "animate__fadeInUp";
    const delay = parseInt(el.dataset.delay || "0", 10);

    // restart animation cleanly
    el.classList.remove("animate__animated", anim);
    el.style.animationDelay = delay ? `${delay}ms` : "";

    void el.offsetWidth; // force reflow

    el.classList.add("is-visible", "animate__animated", anim);
  }

  function reset(el) {
    const anim = el.dataset.anim || "animate__fadeInUp";
    // keep is-visible so it doesn't disappear or flicker,
    // only remove animation classes so it can replay next time
    el.classList.remove("animate__animated", anim);
    el.style.animationDelay = "";
  }

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      const el = entry.target;
      const once = el.dataset.once === "true";

      const nowVisible = entry.isIntersecting && entry.intersectionRatio >= 0.25;
      const wasVisible = seen.get(el) === true;

      // ENTER: trigger only once per entry
      if (nowVisible && !wasVisible) {
        if (once && el.dataset.animated === "true") return;

        play(el);
        seen.set(el, true);
        el.dataset.animated = "true";

        if (once) observer.unobserve(el);
        return;
      }

      // EXIT: reset only when fully out (no flicker)
      if (!entry.isIntersecting && wasVisible && entry.intersectionRatio === 0) {
        if (!once) reset(el);
        seen.set(el, false);
      }
    });
  }, {
    threshold: [0, 0.25] // 0 = fully out, 0.25 = enter trigger
  });

  items.forEach(el => observer.observe(el));
});

</script>


<script>
document.addEventListener("DOMContentLoaded", () => {
  const btn = document.getElementById("navToggle");
  const nav = document.getElementById("primary-nav");
  if (!btn || !nav) return;

  btn.addEventListener("click", () => {
    const open = nav.classList.toggle("is-open");
    btn.setAttribute("aria-expanded", open ? "true" : "false");
  });

  // close menu when clicking a link (mobile)
  nav.querySelectorAll("a").forEach(a => {
    a.addEventListener("click", () => {
      nav.classList.remove("is-open");
      btn.setAttribute("aria-expanded", "false");
    });
  });

  // close menu when clicking outside
  document.addEventListener("click", (e) => {
    if (!nav.classList.contains("is-open")) return;
    const clickedInside = nav.contains(e.target) || btn.contains(e.target);
    if (!clickedInside) {
      nav.classList.remove("is-open");
      btn.setAttribute("aria-expanded", "false");
    }
  });
});
</script>

